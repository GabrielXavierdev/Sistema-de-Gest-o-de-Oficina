<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}JUNIOR AUTO AR{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <nav class="navbar navbar-expand-lg">
        <div class="container">
            <a class="navbar-brand" href="{{ url_for('index') }}">JUNIOR AUTO AR</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('clients') }}">Clientes</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('vehicles') }}">Veículos</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('services') }}">Serviços</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('parts') }}">Peças</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    
	    <div class="container mt-4">
	        {% with messages = get_flashed_messages(with_categories=true) %}
	            {% if messages %}
	                {% for category, message in messages %}
	                    {% if category == 'success' and message in ['Veículo adicionado com sucesso', 'Veículo atualizado com sucesso', 'Veículo excluído com sucesso', 'Cliente adicionado com sucesso', 'Cliente atualizado com sucesso', 'Cliente excluído com sucesso', 'Serviço adicionado com sucesso', 'Serviço atualizado com sucesso', 'Serviço excluído com sucesso', 'Peça adicionada com sucesso', 'Peça atualizada com sucesso', 'Peça excluída com sucesso'] %}
	                        <div class="toast-container position-fixed bottom-0 end-0 p-3">
	                            <div id="liveToast" class="toast align-items-center text-bg-success border-0" role="alert" aria-live="assertive" aria-atomic="true" data-bs-delay="5000">
	                                <div class="d-flex">
	                                    <div class="toast-body">
	                                        {{ message }}
	                                    </div>
	                                    <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
	                                </div>
	                            </div>
	                        </div>
	                        <script>
	                            document.addEventListener('DOMContentLoaded', function() {
	                                var toastEl = document.getElementById('liveToast');
	                                if (toastEl) {
	                                    var toast = new bootstrap.Toast(toastEl);
	                                    toast.show();
	                                }
	                            });
	                        </script>
	                    {% else %}
	                        <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
	                            {{ message }}
	                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
	                        </div>
	                    {% endif %}
	                {% endfor %}
	            {% endif %}
	        {% endwith %}
        
        {% block content %}{% endblock %}
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
